{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Victoria\\\\Bootcamp\\\\escaperoomfinal\\\\Project3\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Victoria\\\\Bootcamp\\\\escaperoomfinal\\\\Project3\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar loginFormHandler = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n    var email, password, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            event.preventDefault(); // Collect values from the login form\n\n            email = document.querySelector('#email-login').value.trim();\n            password = document.querySelector('#password-login').value.trim();\n\n            if (!(email && password)) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 6;\n            return fetch('/api/users/login', {\n              method: 'POST',\n              body: JSON.stringify({\n                email: email,\n                password: password\n              }),\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            });\n\n          case 6:\n            response = _context.sent;\n            console.log(response);\n\n            if (response.ok) {\n              // If successful, redirect the browser to the profile page\n              document.location.replace('/home');\n            } else {\n              alert(response.statusText);\n            }\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function loginFormHandler(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\ndocument.querySelector('.login-form').addEventListener('submit', loginFormHandler);","map":{"version":3,"sources":["C:/Users/Victoria/Bootcamp/escaperoomfinal/Project3/client/src/component/SignIn/login.js"],"names":["loginFormHandler","event","preventDefault","email","document","querySelector","value","trim","password","fetch","method","body","JSON","stringify","headers","response","console","log","ok","location","replace","alert","statusText","addEventListener"],"mappings":";;;AAAA,IAAMA,gBAAgB;AAAA,sEAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBA,YAAAA,KAAK,CAACC,cAAN,GADqB,CAGrB;;AACMC,YAAAA,KAJe,GAIPC,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAvC,CAA6CC,IAA7C,EAJO;AAKfC,YAAAA,QALe,GAKJJ,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,KAA1C,CAAgDC,IAAhD,EALI;;AAAA,kBAOjBJ,KAAK,IAAIK,QAPQ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBASIC,KAAK,CAAC,kBAAD,EAAqB;AAC/CC,cAAAA,MAAM,EAAE,MADuC;AAE/CC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEV,gBAAAA,KAAK,EAALA,KAAF;AAASK,gBAAAA,QAAQ,EAARA;AAAT,eAAf,CAFyC;AAG/CM,cAAAA,OAAO,EAAE;AAAE,gCAAgB;AAAlB;AAHsC,aAArB,CATT;;AAAA;AASbC,YAAAA,QATa;AAcnBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,gBAAIA,QAAQ,CAACG,EAAb,EAAiB;AACf;AACAd,cAAAA,QAAQ,CAACe,QAAT,CAAkBC,OAAlB,CAA0B,OAA1B;AACD,aAHD,MAGO;AACLC,cAAAA,KAAK,CAACN,QAAQ,CAACO,UAAV,CAAL;AACD;;AApBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBtB,gBAAgB;AAAA;AAAA;AAAA,GAAtB;;AAwBEI,QAAQ,CACLC,aADH,CACiB,aADjB,EAEGkB,gBAFH,CAEoB,QAFpB,EAE8BvB,gBAF9B","sourcesContent":["const loginFormHandler = async (event) => {\r\n    event.preventDefault();\r\n  \r\n    // Collect values from the login form\r\n    const email = document.querySelector('#email-login').value.trim();\r\n    const password = document.querySelector('#password-login').value.trim();\r\n  \r\n    if (email && password) {\r\n      // Send a POST request to the API endpoint\r\n      const response = await fetch('/api/users/login', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ email, password }),\r\n        headers: { 'Content-Type': 'application/json' },\r\n      });\r\n      console.log(response)\r\n      if (response.ok) {\r\n        // If successful, redirect the browser to the profile page\r\n        document.location.replace('/home');\r\n      } else {\r\n        alert(response.statusText);\r\n      }\r\n    }\r\n  };\r\n  \r\n  document\r\n    .querySelector('.login-form')\r\n    .addEventListener('submit', loginFormHandler);\r\n  "]},"metadata":{},"sourceType":"module"}